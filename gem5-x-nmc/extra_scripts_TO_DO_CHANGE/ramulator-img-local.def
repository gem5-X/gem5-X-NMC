# Bootstrap definition for a g++5 running container for ramulator and necessary dependencies for gem5-X with ramulator

BootStrap: debootstrap
OSVersion: xenial
MirrorURL: http://mirror.switch.ch/ftp/mirror/ubuntu/
#MirrorURL: http://mirror.centos.org/centos-%{OSVERSION}/%{OSVERSION}/os/$basearch/


%runscript



%post

apt-get update
apt-get -y install vim python python-dev python-six gcc g++ build-essential software-properties-common  gcc-arm-linux-gnueabihf gcc-aarch64-linux-gnu device-tree-compiler zlib1g-dev m4 libprotobuf-dev libgoogle-perftools-dev libprotoc-dev protobuf-compiler screen gdb 
add-apt-repository universe
apt-get update
apt-get -y install python-pip libprotobuf-c1 libprotobuf-c-dev python-protobuf scons swig protobuf-c-compiler libboost-all-dev diod libxerces-c-dev automake autoconf perl flex bison byacc libhdf5-dev libelf-dev cmake cmake-curses-gui
pip install protobuf
ln -s /usr/include/asm-generic /usr/include/asm
echo 'export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/riselda/Documents/systemc/lib/' >>$SINGULARITY_ENVIRONMENT
echo 'export SYSTEMC_HOME=$SYSTEMC_HOME:/home/riselda/Documents/systemc/include/' >>$SINGULARITY_ENVIRONMENT


